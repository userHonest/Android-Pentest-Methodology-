
# Drozer 
```
           ..                    ..:.
           ..o..                  .r..
            ..a..  . ....... .  ..nd
              ro..idsnemesisand..pr
              .otectorandroidsneme.
           .,sisandprotectorandroids+.
         ..nemesisandprotectorandroidsn:.
        .emesisandprotectorandroidsnemes..
      ..isandp,..,rotecyayandro,..,idsnem.
      .isisandp..rotectorandroid..snemisis.
      ,andprotectorandroidsnemisisandprotec.
     .torandroidsnemesisandprotectorandroid.
     .snemisisandprotectorandroidsnemesisan:
     .dprotectorandroidsnemesisandprotector.

drozer Console (v3.0.1)

```

drozer is a security testing framework for Android.
drozer allows you to search for security vulnerabilities in apps and devices by assuming the role of an app and interacting with the Android Runtime, other apps' IPC endpoints and the underlying OS.
drozer provides tools to help you use, share and understand public Android exploits.
drozer is open source software, maintained by WithSecure, and can be downloaded from: https://labs.withsecure.com/tools/drozer/


### Sourcecode
https://github.com/WithSecureLabs/drozer

### Installation

```

pipx install ./drozer-*.whl
pipx ensurepath

git clone https://github.com/WithSecureLabs/drozer.git
cd drozer
pip install .


```

Notes_: to myself _>  Just follow all the commands and so on , fucking pain in the ass, used one whole hour on it.

## Running Drozer 


### Install drozer agent

To run drozer you need to push the drozer agent to the phone.
The agent can be dowloaded from here:

https://github.com/WithSecureLabs/drozer-agent/releases/

Once its dowloaded it need to be pushed to the phone.

`adb install drozer-agent.apk`

Run the app an check if its configured to port <31415>

Then write on the terminal

`adb forward tcp:31415 tcp:31415`


### Console Connect


```
drozer console connect
Selecting 3d3e86152063ff0e (Genymobile Phone 10)

            ..                    ..:.
           ..o..                  .r..
            ..a..  . ....... .  ..nd
              ro..idsnemesisand..pr
              .otectorandroidsneme.
           .,sisandprotectorandroids+.
         ..nemesisandprotectorandroidsn:.
        .emesisandprotectorandroidsnemes..
      ..isandp,..,rotecyayandro,..,idsnem.
      .isisandp..rotectorandroid..snemisis.
      ,andprotectorandroidsnemisisandprotec.
     .torandroidsnemesisandprotectorandroid.
     .snemisisandprotectorandroidsnemesisan:
     .dprotectorandroidsnemesisandprotector.

drozer Console (v3.0.1)
dz>
```

## Drozer Commands

First thing we nee to do is to search for the package name, so we know wich app we are testing.

`run app.package.list -f **`

Get info from the package 

`run app.package.info -a name of the package`


### Get Attack Activity 

```
dz> run app.package.attacksurface <com.package.name>

example 

  2 activities exported
  4 broadcast receivers exported
  0 content providers exported
  2 services exported

```

### Trigger App Activity 

`dz> run app.activity.info -a <package_name>`

`dz> run app.activity.start --component <package_name> <activity_name>`

### Lisiting Services

`dz> run app.service.info -a *.package.name`

### Interact with the service 

```
app.service.send            Send a Message to a service, and display the reply  
app.service.start           Start Service                                       
app.service.stop            Stop Service

```

### Broadcast Receivers

`run app.broadcast.info ` 

